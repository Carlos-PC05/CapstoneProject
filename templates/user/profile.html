{% extends 'base.html' %}

{% block content %}
<div class="profile-page">
    <div class="profile-header">
        <div class="profile-avatar-container">
            {% if user.photo_url %}
                <img src="{{ url_for('static', filename=user.photo_url) }}" alt="{{ user.username }}" class="profile-avatar">
            {% else %}
                <div class="profile-avatar-placeholder">
                    {{ user.username[0].upper() }}
                </div>
            {% endif %}
        </div>
        
        <div class="profile-info">
            <h1 class="profile-name">{{ user.username }}</h1>
            <p class="profile-reviews">Reviews</p> <!-- Placeholder for reviews -->
            
            <div class="profile-about">
                <h3>About:</h3>
                <p>{{ user.description if user.description else "No description provided." }}</p>
            </div>
        </div>
        
        <div class="profile-actions">
            {% if session.get('user_id') == user.id %}
                <a href="{{ url_for('edit_profile') }}" class="edit-profile-btn">Edit Profile</a>
            {% endif %}
        </div>
    </div>

    <div class="profile-tabs">
        <div class="tab active">Listing</div>
        <div class="tab">Reviews</div>
    </div>
    
    <div class="profile-separator"></div>

    <div class="contenedor">
        {% for item in user.items %}
            <div class="contenedor-item">
                <a href="{{ url_for('item', item_id=item.id) }}" class="item-imagen-container">
                    <img class="item-imagen" src="{{ url_for('static', filename=item.image_url) }}" alt="{{ item.name }}" loading="lazy">
                </a>
                
                <div class="item-info">
                    <div class="item-header">
                        <h2 class="item-nombre">{{ item.name }}</h2>
                        <div class="item-actions">
                            <button class="action-btn favorite-btn" aria-label="AÃ±adir a favoritos">
                                <img src="{{ url_for('static', filename='img/Heart.svg') }}" alt="Favorito">
                                <span class="favorite-count">0</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="item-details">
                        <p class="item-owner">{{ user.username }}</p>
                    </div>
                    
                    <p class="item-precio">${{ item.price }}</p>
                </div>
            </div>
        {% else %}
            <p class="no-items">No items listed yet.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
